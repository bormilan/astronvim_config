{
    "setup": {
	    "prefix": ["auto_spec", "template"],
        "description": "Generate specification for an already existing function",
        "body": [
            "-spec ${TM_SELECTED_TEXT/(.*?)\\(.*/$1/s}(${TM_SELECTED_TEXT/(?:[^)]*\\(|\\s*?)(?:_?([A-Z]\\w*)|_|(?:true|false)|(?:\\$\\w|\\$\\\\\\w)|<<.*?>>|(?<!\\\\)\".*?(?<!\\\\)\"|<[0-9.]+>|[+-]?[0-9_]+\\.[0-9_]+(?:e[+-]?[0-9_]+)?|(?:[+-]?[0-9]+#[\\w_]+|[+-]?[0-9_]+)|(?:\\w+|'.*?')|(?:#\\w+{(?:[^{}]|{(?:[^{}]|{(?:[^{}]|{[^{}]*})*})*})*})|(?:#{(?:[^{}]|{(?:[^{}]|{(?:[^{}]|{[^{}]*})*})*})*})|(?:{(?:[^{}]|{(?:[^{}]|{(?:[^{}]|{[^{}]*})*})*})*})|(?:\\[(?:[^[\\]]|\\[(?:[^[\\]]|\\[(?:[^[\\]]|\\[[^[\\]]*\\])*\\])*\\])*\\]))\\s*?(?:(,)|\\)(?:(?:\\s*?when\\s*?.*)?\\s*?->\\s*?)?)/${1:-Param}${2:+, }/gs}) -> ${1:Result}",
            "  when ${TM_SELECTED_TEXT/(?:[^)]*\\(|\\s*?)(?:_?([A-Z]\\w*)|(_)|(true|false)|(\\$\\w|\\$\\\\\\w)|(<<.*?>>)|((?<!\\\\)\".*?(?<!\\\\)\")|(<[0-9.]+>)|([+-]?[0-9_]+\\.[0-9_]+(?:e[+-]?[0-9_]+)?)|([+-]?[0-9]+#[\\w_]+|[+-]?[0-9_]+)|(\\w+|'.*?')|(#\\w+{(?:[^{}]|{(?:[^{}]|{(?:[^{}]|{[^{}]*})*})*})*})|(#{(?:[^{}]|{(?:[^{}]|{(?:[^{}]|{[^{}]*})*})*})*})|({(?:[^{}]|{(?:[^{}]|{(?:[^{}]|{[^{}]*})*})*})*})|(\\[(?:[^[\\]]|\\[(?:[^[\\]]|\\[(?:[^[\\]]|\\[[^[\\]]*\\])*\\])*\\])*\\]))\\s*?(?:,|\\)(?:(?:\\s*?when\\s*?.*)?\\s*?->\\s*?)?)/${1:Param :: }${1:+ :: any()}${2:+any()}${3:+boolean()}${4:+char()}${5:+binary()}${6:+string()}${7:+pid()}${8:+float()}${9:+integer()}${10:+atom()}${11:+tuple()}${12:+map()}${13:+tuple()}${14:+list()},\n       /gs}$1 :: ${2|ok,boolean(),any()|}.",
            "${TM_SELECTED_TEXT}"
        ]
    }
}
